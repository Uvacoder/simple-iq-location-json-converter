<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="styles.css" />
  <script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
  <script src="jquery.csv.js"></script>
  <script src="is-json.js"></script>
  <script src="index.js"></script>
  <title>Location JSON Converter</title>
</head>
<body>

<div class="container">
  <br>
  <section class="json">
    <form action="" id="json-form">
      <div class="form-group">
        <textarea id="json-textarea" class="form-control"></textarea>
        <span class="help-block"</span>
      </div>
      <div class="form-group btn-flex">
        <a id="clear-form" class="btn btn-warning">Clear</a>
        <div class="pull-left btn btn-default" id="load-sample">Sample Data</div>
        <button type="submit" id="json-submit" class="btn btn-info">Submit</button>
      </div>
    </form>
  </section>
</div>

<div class="container show-csv">
  <div class="clearfix">
    <input type="button" value="select table" class="btn btn-sm btn-default pull-right"
      onclick="selectElementContents( document.getElementById('csv-table') );">
  </div>
  <br>
  <div id="csv-table"></div>
</div>

<script type="text/template" id="csv-table-template">
  <table class="table table-bordered">
    <thead>
      <tr>
        <% categories.forEach(cat => { %>
        <td><%- cat %></td>
        <% }) %>
      </tr>
    </thead>
    <tbody>
      <% locs.forEach(loc => { %>
        <tr>
          <% for(let prop in loc){ %>
            <td><%- loc[prop] %></td>
          <% } %>
        </tr>
      <% }) %>
    </tbody>
  </table>
</script>

</body>
</html>
